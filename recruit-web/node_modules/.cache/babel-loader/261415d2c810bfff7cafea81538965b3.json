{"remainingRequest":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\graduateproject\\recruit\\recruit-web\\src\\lin\\directive\\authorize.js","dependencies":[{"path":"E:\\graduateproject\\recruit\\recruit-web\\src\\lin\\directive\\authorize.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\babel.config.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport store from '@/store';\nfunction isAllowed(permission, user, permissions) {\n  if (user.admin) {\n    return true;\n  }\n  if (typeof permission === 'string') {\n    return permissions.includes(permission);\n  }\n  if (permission instanceof Array) {\n    return permission.some(function (auth) {\n      return permissions.indexOf(auth) >= 0;\n    });\n  }\n  return false;\n}\nVue.directive('permission', {\n  bind: function bind(el, binding) {\n    var permission;\n    var type;\n    if (Object.prototype.toString.call(binding.value) === '[object Object]') {\n      // eslint-disable-next-line prefer-destructuring\n      permission = binding.value.permission;\n      // eslint-disable-next-line prefer-destructuring\n      type = binding.value.type;\n    } else {\n      permission = binding.value;\n    }\n    var isAllow = isAllowed(permission, store.state.user || {}, store.state.permissions);\n    var element = el;\n    if (!isAllow && permission) {\n      if (type) {\n        element.disabled = true;\n        element.style.opacity = 0.4;\n        element.style.cursor = 'not-allowed';\n      } else {\n        element.style.display = 'none';\n      }\n    }\n  }\n});\nexport default Vue.directive('permission');",{"version":3,"names":["Vue","store","isAllowed","permission","user","permissions","admin","includes","Array","some","auth","indexOf","directive","bind","el","binding","type","Object","prototype","toString","call","value","isAllow","state","element","disabled","style","opacity","cursor","display"],"sources":["E:/graduateproject/recruit/recruit-web/src/lin/directive/authorize.js"],"sourcesContent":["import Vue from 'vue'\nimport store from '@/store'\n\nfunction isAllowed(permission, user, permissions) {\n  if (user.admin) {\n    return true\n  }\n  if (typeof permission === 'string') {\n    return permissions.includes(permission)\n  }\n  if (permission instanceof Array) {\n    return permission.some(auth => permissions.indexOf(auth) >= 0)\n  }\n  return false\n}\n\nVue.directive('permission', {\n  bind(el, binding) {\n    let permission\n    let type\n    if (Object.prototype.toString.call(binding.value) === '[object Object]') {\n      // eslint-disable-next-line prefer-destructuring\n      permission = binding.value.permission\n      // eslint-disable-next-line prefer-destructuring\n      type = binding.value.type\n    } else {\n      permission = binding.value\n    }\n    const isAllow = isAllowed(permission, store.state.user || {}, store.state.permissions)\n    const element = el\n    if (!isAllow && permission) {\n      if (type) {\n        element.disabled = true\n        element.style.opacity = 0.4\n        element.style.cursor = 'not-allowed'\n      } else {\n        element.style.display = 'none'\n      }\n    }\n  },\n})\n\nexport default Vue.directive('permission')\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,KAAK,MAAM,SAAS;AAE3B,SAASC,SAASA,CAACC,UAAU,EAAEC,IAAI,EAAEC,WAAW,EAAE;EAChD,IAAID,IAAI,CAACE,KAAK,EAAE;IACd,OAAO,IAAI;EACb;EACA,IAAI,OAAOH,UAAU,KAAK,QAAQ,EAAE;IAClC,OAAOE,WAAW,CAACE,QAAQ,CAACJ,UAAU,CAAC;EACzC;EACA,IAAIA,UAAU,YAAYK,KAAK,EAAE;IAC/B,OAAOL,UAAU,CAACM,IAAI,CAAC,UAAAC,IAAI;MAAA,OAAIL,WAAW,CAACM,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC;IAAA,EAAC;EAChE;EACA,OAAO,KAAK;AACd;AAEAV,GAAG,CAACY,SAAS,CAAC,YAAY,EAAE;EAC1BC,IAAI,WAAAA,KAACC,EAAE,EAAEC,OAAO,EAAE;IAChB,IAAIZ,UAAU;IACd,IAAIa,IAAI;IACR,IAAIC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACL,OAAO,CAACM,KAAK,CAAC,KAAK,iBAAiB,EAAE;MACvE;MACAlB,UAAU,GAAGY,OAAO,CAACM,KAAK,CAAClB,UAAU;MACrC;MACAa,IAAI,GAAGD,OAAO,CAACM,KAAK,CAACL,IAAI;IAC3B,CAAC,MAAM;MACLb,UAAU,GAAGY,OAAO,CAACM,KAAK;IAC5B;IACA,IAAMC,OAAO,GAAGpB,SAAS,CAACC,UAAU,EAAEF,KAAK,CAACsB,KAAK,CAACnB,IAAI,IAAI,CAAC,CAAC,EAAEH,KAAK,CAACsB,KAAK,CAAClB,WAAW,CAAC;IACtF,IAAMmB,OAAO,GAAGV,EAAE;IAClB,IAAI,CAACQ,OAAO,IAAInB,UAAU,EAAE;MAC1B,IAAIa,IAAI,EAAE;QACRQ,OAAO,CAACC,QAAQ,GAAG,IAAI;QACvBD,OAAO,CAACE,KAAK,CAACC,OAAO,GAAG,GAAG;QAC3BH,OAAO,CAACE,KAAK,CAACE,MAAM,GAAG,aAAa;MACtC,CAAC,MAAM;QACLJ,OAAO,CAACE,KAAK,CAACG,OAAO,GAAG,MAAM;MAChC;IACF;EACF;AACF,CAAC,CAAC;AAEF,eAAe7B,GAAG,CAACY,SAAS,CAAC,YAAY,CAAC","ignoreList":[]}]}