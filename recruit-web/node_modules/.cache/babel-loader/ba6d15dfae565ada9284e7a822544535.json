{"remainingRequest":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\graduateproject\\recruit\\recruit-web\\src\\router\\index.js","dependencies":[{"path":"E:\\graduateproject\\recruit\\recruit-web\\src\\router\\index.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\babel.config.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport routes from './route';\nimport store from '../store';\nimport appConfig from '@/config/index';\nimport Util from '@/lin/util/util';\nVue.use(Router);\n\n// 判断是否需要登录访问, 配置位于 config 文件夹\nvar _isLoginRequired = function isLoginRequired(routeName) {\n  // 首次执行时缓存配置\n  var notLoginRoute = appConfig.notLoginRoute;\n  var notLoginMark = {};\n\n  // 构建标记对象\n  if (Array.isArray(notLoginRoute)) {\n    for (var i = 0; i < notLoginRoute.length; i += 1) {\n      notLoginMark[notLoginRoute[i].toString()] = true;\n    }\n  }\n  notLoginRoute = null; // 释放内存\n\n  // 重写初始化函数\n  _isLoginRequired = function isLoginRequired(name) {\n    if (!name) {\n      return true;\n    }\n    // 处理 Symbol 类型\n    var target = _typeof(name) === 'symbol' ? name.description : name;\n    return !notLoginMark[target];\n  };\n  return _isLoginRequired(routeName);\n};\nvar router = new Router({\n  // mode: 'history',\n  scrollBehavior: function scrollBehavior() {\n    return {\n      y: 0\n    };\n  },\n  base: process.env.BASE_URL,\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  // 登录验证\n  if (_isLoginRequired(to.name) && !store.state.logined) {\n    next({\n      path: '/index'\n    });\n    return;\n  }\n  // TODO: tab 模式重复点击验证\n  // 权限验证\n  if (store && store.state && store.getters) {\n    var _store$getters = store.getters,\n      permissions = _store$getters.permissions,\n      user = _store$getters.user;\n    if (to.path !== '/about' && !Util.hasPermission(permissions, to.meta, user)) {\n      Vue.prototype.$notify({\n        title: '无权限',\n        dangerouslyUseHTMLString: true,\n        message: '<strong class=\"my-notify\">您无此页面的权限哟</strong>'\n      });\n      next({\n        path: '/about'\n      });\n      return;\n    }\n  }\n  // 路由发生变化重新计时\n  Vue.prototype.$_lin_jump();\n  next();\n});\n\n// 使用后置路由守卫监听页面跳转后,修改页面标题\nrouter.afterEach(function (to, form) {\n  document.title = to.meta.title || \"校企招聘网\";\n});\nexport default router;",{"version":3,"names":["Vue","Router","routes","store","appConfig","Util","use","isLoginRequired","routeName","notLoginRoute","notLoginMark","Array","isArray","i","length","toString","name","target","_typeof","description","router","scrollBehavior","y","base","process","env","BASE_URL","beforeEach","to","from","next","state","logined","path","getters","_store$getters","permissions","user","hasPermission","meta","prototype","$notify","title","dangerouslyUseHTMLString","message","$_lin_jump","afterEach","form","document"],"sources":["E:/graduateproject/recruit/recruit-web/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport routes from './route'\nimport store from '../store'\nimport appConfig from '@/config/index'\nimport Util from '@/lin/util/util'\n\nVue.use(Router)\n\n// 判断是否需要登录访问, 配置位于 config 文件夹\nlet isLoginRequired = routeName => {\n  // 首次执行时缓存配置\n  let { notLoginRoute } = appConfig\n  const notLoginMark = {}\n\n  // 构建标记对象\n  if (Array.isArray(notLoginRoute)) {\n    for (let i = 0; i < notLoginRoute.length; i += 1) {\n      notLoginMark[notLoginRoute[i].toString()] = true\n    }\n  }\n\n  notLoginRoute = null // 释放内存\n\n  // 重写初始化函数\n  isLoginRequired = name => {\n    if (!name) {\n      return true\n    }\n    // 处理 Symbol 类型\n    const target = typeof name === 'symbol' ? name.description : name\n    return !notLoginMark[target]\n  }\n\n  return isLoginRequired(routeName)\n}\n\nconst router = new Router({\n  // mode: 'history',\n  scrollBehavior: () => ({\n    y: 0,\n  }),\n  base: process.env.BASE_URL,\n  routes,\n})\n\nrouter.beforeEach((to, from, next) => {\n  // 登录验证\n  if (isLoginRequired(to.name) && !store.state.logined) {\n    next({ path: '/index' })\n    return\n  }\n  // TODO: tab 模式重复点击验证\n  // 权限验证\n  if (store && store.state && store.getters) {\n    const { permissions, user } = store.getters\n    if (to.path !== '/about' && !Util.hasPermission(permissions, to.meta, user)) {\n      Vue.prototype.$notify({\n        title: '无权限',\n        dangerouslyUseHTMLString: true,\n        message: '<strong class=\"my-notify\">您无此页面的权限哟</strong>',\n      })\n      next({ path: '/about' })\n      return\n    }\n  }\n  // 路由发生变化重新计时\n  Vue.prototype.$_lin_jump()\n  next()\n})\n\n// 使用后置路由守卫监听页面跳转后,修改页面标题\nrouter.afterEach((to,form)=>{\n  document.title = to.meta.title || \"校企招聘网\"\n})\n\nexport default router\n"],"mappings":"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","ignoreList":[]}]}