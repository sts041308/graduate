{"remainingRequest":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\graduateproject\\recruit\\recruit-web\\src\\component\\notify\\index.js","dependencies":[{"path":"E:\\graduateproject\\recruit\\recruit-web\\src\\component\\notify\\index.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\babel.config.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/* eslint-disable*/\n\n/* Author: https://github.com/nathantsoi/vue-native-websocket */\nimport Notify from './notify.vue';\nimport Observer from './observer';\nimport Emitter from './emitter';\nexport default {\n  install: function install(Vue, connection) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (_typeof(connection) === 'object') {\n      opts = connection;\n      connection = '';\n    }\n    var observer = null;\n    opts.$setInstance = function (wsInstance) {\n      Vue.prototype.$socket = wsInstance;\n    };\n    Vue.prototype.$connect = function () {\n      var connectionUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : connection;\n      var connectionOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : opts;\n      connectionOpts.$setInstance = opts.$setInstance;\n      observer = new Observer(connectionUrl, connectionOpts);\n      Vue.prototype.$socket = observer.WebSocket;\n    };\n    Vue.prototype.$disconnect = function () {\n      if (observer && observer.reconnection) {\n        observer.reconnection = false;\n      }\n      if (Vue.prototype.$socket) {\n        Vue.prototype.$socket.close();\n        delete Vue.prototype.$socket;\n      }\n    };\n    var hasProxy = typeof Proxy !== 'undefined' && typeof Proxy === 'function' && /native code/.test(Proxy.toString());\n    Vue.component('LinNotify', Notify);\n    Vue.mixin({\n      created: function created() {\n        var _this = this;\n        var vm = this;\n        var sockets = this.$options.sockets;\n        if (hasProxy) {\n          this.$options.sockets = new Proxy({}, {\n            set: function set(target, key, value) {\n              Emitter.addListener(key, value, vm);\n              target[key] = value;\n              return true;\n            },\n            deleteProperty: function deleteProperty(target, key) {\n              Emitter.removeListener(key, vm.$options.sockets[key], vm);\n              delete target.key;\n              return true;\n            }\n          });\n          if (sockets) {\n            Object.keys(sockets).forEach(function (key) {\n              _this.$options.sockets[key] = sockets[key];\n            });\n          }\n        } else {\n          Object.seal(this.$options.sockets);\n\n          // if !hasProxy need addListener\n          if (sockets) {\n            Object.keys(sockets).forEach(function (key) {\n              Emitter.addListener(key, sockets[key], vm);\n            });\n          }\n        }\n      },\n      beforeDestroy: function beforeDestroy() {\n        var _this2 = this;\n        if (hasProxy) {\n          var sockets = this.$options.sockets;\n          if (sockets) {\n            Object.keys(sockets).forEach(function (key) {\n              delete _this2.$options.sockets[key];\n            });\n          }\n        }\n      }\n    });\n  }\n};",{"version":3,"names":["Notify","Observer","Emitter","install","Vue","connection","opts","arguments","length","undefined","_typeof","observer","$setInstance","wsInstance","prototype","$socket","$connect","connectionUrl","connectionOpts","WebSocket","$disconnect","reconnection","close","hasProxy","Proxy","test","toString","component","mixin","created","_this","vm","sockets","$options","set","target","key","value","addListener","deleteProperty","removeListener","Object","keys","forEach","seal","beforeDestroy","_this2"],"sources":["E:/graduateproject/recruit/recruit-web/src/component/notify/index.js"],"sourcesContent":["/* eslint-disable*/\n\n/* Author: https://github.com/nathantsoi/vue-native-websocket */\nimport Notify from './notify.vue'\nimport Observer from './observer'\nimport Emitter from './emitter'\n\nexport default {\n  install(Vue, connection, opts = {}) {\n    if (typeof connection === 'object') {\n      opts = connection\n      connection = ''\n    }\n    let observer = null\n\n    opts.$setInstance = wsInstance => {\n      Vue.prototype.$socket = wsInstance\n    }\n    Vue.prototype.$connect = (connectionUrl = connection, connectionOpts = opts) => {\n      connectionOpts.$setInstance = opts.$setInstance\n      observer = new Observer(connectionUrl, connectionOpts)\n      Vue.prototype.$socket = observer.WebSocket\n    }\n\n    Vue.prototype.$disconnect = () => {\n      if (observer && observer.reconnection) {\n        observer.reconnection = false\n      }\n      if (Vue.prototype.$socket) {\n        Vue.prototype.$socket.close()\n        delete Vue.prototype.$socket\n      }\n    }\n    const hasProxy = typeof Proxy !== 'undefined' && typeof Proxy === 'function' && /native code/.test(Proxy.toString())\n    Vue.component('LinNotify', Notify)\n    Vue.mixin({\n      created() {\n        const vm = this\n        const { sockets } = this.$options\n\n        if (hasProxy) {\n          this.$options.sockets = new Proxy(\n            {},\n            {\n              set(target, key, value) {\n                Emitter.addListener(key, value, vm)\n                target[key] = value\n                return true\n              },\n              deleteProperty(target, key) {\n                Emitter.removeListener(key, vm.$options.sockets[key], vm)\n                delete target.key\n                return true\n              },\n            },\n          )\n          if (sockets) {\n            Object.keys(sockets).forEach(key => {\n              this.$options.sockets[key] = sockets[key]\n            })\n          }\n        } else {\n          Object.seal(this.$options.sockets)\n\n          // if !hasProxy need addListener\n          if (sockets) {\n            Object.keys(sockets).forEach(key => {\n              Emitter.addListener(key, sockets[key], vm)\n            })\n          }\n        }\n      },\n      beforeDestroy() {\n        if (hasProxy) {\n          const { sockets } = this.$options\n\n          if (sockets) {\n            Object.keys(sockets).forEach(key => {\n              delete this.$options.sockets[key]\n            })\n          }\n        }\n      },\n    })\n  },\n}\n"],"mappings":"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","ignoreList":[]}]}