{"remainingRequest":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\graduateproject\\recruit\\recruit-web\\src\\view\\resume\\export-pdf.js","dependencies":[{"path":"E:\\graduateproject\\recruit\\recruit-web\\src\\view\\resume\\export-pdf.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\babel.config.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nexport default {\n  exportPdf: function exportPdf(elementId, htmlTitle) {\n    var element = document.getElementById(elementId);\n    html2canvas(element, {\n      logging: true,\n      allowTaint: true,\n      useCORS: true,\n      tainttest: true\n    }).then(function (canvas) {\n      var pdf = new jsPDF('p', 'mm', 'a4'); //A4纸，纵向\n      var ctx = canvas.getContext('2d'),\n        a4w = 190,\n        a4h = 277,\n        //A4大小，210mm x 297mm，四边各保留10mm的边距，显示区域190x277\n        imgHeight = Math.floor(a4h * canvas.width / a4w),\n        //按A4显示比例换算一页图像的像素高度\n        renderedHeight = 0;\n      while (renderedHeight < canvas.height) {\n        var page = document.createElement(\"canvas\");\n        page.width = canvas.width;\n        page.height = Math.min(imgHeight, canvas.height - renderedHeight); //可能内容不足一页\n\n        //用getImageData剪裁指定区域，并画到前面创建的canvas对象中\n        page.getContext('2d').putImageData(ctx.getImageData(0, renderedHeight, canvas.width, Math.min(imgHeight, canvas.height - renderedHeight)), 0, 0);\n        pdf.addImage(page.toDataURL('image/jpeg', 1.0), 'JPEG', 10, 10, a4w, Math.min(a4h, a4w * page.height / page.width)); //添加图像到页面，保留10mm边距\n\n        renderedHeight += imgHeight;\n        if (renderedHeight < canvas.height) pdf.addPage(); //如果后面还有内容，添加一个空页\n      }\n      pdf.save(htmlTitle);\n    });\n  }\n};",{"version":3,"names":["html2canvas","jsPDF","exportPdf","elementId","htmlTitle","element","document","getElementById","logging","allowTaint","useCORS","tainttest","then","canvas","pdf","ctx","getContext","a4w","a4h","imgHeight","Math","floor","width","renderedHeight","height","page","createElement","min","putImageData","getImageData","addImage","toDataURL","addPage","save"],"sources":["E:/graduateproject/recruit/recruit-web/src/view/resume/export-pdf.js"],"sourcesContent":["import html2canvas from 'html2canvas'\nimport jsPDF from 'jspdf'\n\nexport default {\n\n  exportPdf(elementId, htmlTitle) {\n    var element = document.getElementById(elementId);\n    html2canvas(element, {\n      logging: true,\n      allowTaint: true,\n      useCORS: true,\n      tainttest: true,\n    }).then(function (canvas) {\n      var pdf = new jsPDF('p', 'mm', 'a4'); //A4纸，纵向\n      var ctx = canvas.getContext('2d'),\n        a4w = 190,\n        a4h = 277, //A4大小，210mm x 297mm，四边各保留10mm的边距，显示区域190x277\n        imgHeight = Math.floor(a4h * canvas.width / a4w), //按A4显示比例换算一页图像的像素高度\n        renderedHeight = 0;\n\n      while (renderedHeight < canvas.height) {\n        var page = document.createElement(\"canvas\");\n        page.width = canvas.width;\n        page.height = Math.min(imgHeight, canvas.height - renderedHeight); //可能内容不足一页\n\n        //用getImageData剪裁指定区域，并画到前面创建的canvas对象中\n        page.getContext('2d').putImageData(ctx.getImageData(0, renderedHeight, canvas.width, Math.min(imgHeight, canvas.height - renderedHeight)), 0, 0);\n        pdf.addImage(page.toDataURL('image/jpeg', 1.0), 'JPEG', 10, 10, a4w, Math.min(a4h, a4w * page.height / page.width)); //添加图像到页面，保留10mm边距\n\n        renderedHeight += imgHeight;\n        if (renderedHeight < canvas.height)\n          pdf.addPage(); //如果后面还有内容，添加一个空页\n      }\n\n      pdf.save(htmlTitle);\n    });\n  }\n}\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,aAAa;AACrC,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe;EAEbC,SAAS,WAAAA,UAACC,SAAS,EAAEC,SAAS,EAAE;IAC9B,IAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAACJ,SAAS,CAAC;IAChDH,WAAW,CAACK,OAAO,EAAE;MACnBG,OAAO,EAAE,IAAI;MACbC,UAAU,EAAE,IAAI;MAChBC,OAAO,EAAE,IAAI;MACbC,SAAS,EAAE;IACb,CAAC,CAAC,CAACC,IAAI,CAAC,UAAUC,MAAM,EAAE;MACxB,IAAIC,GAAG,GAAG,IAAIb,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;MACtC,IAAIc,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;QAC/BC,GAAG,GAAG,GAAG;QACTC,GAAG,GAAG,GAAG;QAAE;QACXC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACH,GAAG,GAAGL,MAAM,CAACS,KAAK,GAAGL,GAAG,CAAC;QAAE;QAClDM,cAAc,GAAG,CAAC;MAEpB,OAAOA,cAAc,GAAGV,MAAM,CAACW,MAAM,EAAE;QACrC,IAAIC,IAAI,GAAGnB,QAAQ,CAACoB,aAAa,CAAC,QAAQ,CAAC;QAC3CD,IAAI,CAACH,KAAK,GAAGT,MAAM,CAACS,KAAK;QACzBG,IAAI,CAACD,MAAM,GAAGJ,IAAI,CAACO,GAAG,CAACR,SAAS,EAAEN,MAAM,CAACW,MAAM,GAAGD,cAAc,CAAC,CAAC,CAAC;;QAEnE;QACAE,IAAI,CAACT,UAAU,CAAC,IAAI,CAAC,CAACY,YAAY,CAACb,GAAG,CAACc,YAAY,CAAC,CAAC,EAAEN,cAAc,EAAEV,MAAM,CAACS,KAAK,EAAEF,IAAI,CAACO,GAAG,CAACR,SAAS,EAAEN,MAAM,CAACW,MAAM,GAAGD,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAChJT,GAAG,CAACgB,QAAQ,CAACL,IAAI,CAACM,SAAS,CAAC,YAAY,EAAE,GAAG,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,EAAEd,GAAG,EAAEG,IAAI,CAACO,GAAG,CAACT,GAAG,EAAED,GAAG,GAAGQ,IAAI,CAACD,MAAM,GAAGC,IAAI,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC;;QAErHC,cAAc,IAAIJ,SAAS;QAC3B,IAAII,cAAc,GAAGV,MAAM,CAACW,MAAM,EAChCV,GAAG,CAACkB,OAAO,CAAC,CAAC,CAAC,CAAC;MACnB;MAEAlB,GAAG,CAACmB,IAAI,CAAC7B,SAAS,CAAC;IACrB,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]}]}