{"remainingRequest":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\graduateproject\\recruit\\recruit-web\\src\\component\\notify\\observer.js","dependencies":[{"path":"E:\\graduateproject\\recruit\\recruit-web\\src\\component\\notify\\observer.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\babel.config.js","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/* eslint-disable*/\nimport Emitter from './emitter';\nvar _default = /*#__PURE__*/function () {\n  function _default(connectionUrl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, _default);\n    this.format = opts.format && opts.format.toLowerCase();\n    if (connectionUrl.startsWith('//')) {\n      var scheme = window.location.protocol === 'https:' ? 'wss' : 'ws';\n      connectionUrl = \"\".concat(scheme, \":\").concat(connectionUrl);\n    }\n    this.connectionUrl = connectionUrl;\n    this.opts = opts;\n    this.reconnection = this.opts.reconnection || false;\n    this.reconnectionAttempts = this.opts.reconnectionAttempts || Infinity;\n    this.reconnectionDelay = this.opts.reconnectionDelay || 1000;\n    this.reconnectTimeoutId = 0;\n    this.reconnectionCount = 0;\n    this.passToStoreHandler = this.opts.passToStoreHandler || false;\n    this.connect(connectionUrl, opts);\n    if (opts.store) {\n      this.store = opts.store;\n    }\n    if (opts.mutations) {\n      this.mutations = opts.mutations;\n    }\n    this.onEvent();\n  }\n  return _createClass(_default, [{\n    key: \"connect\",\n    value: function connect(connectionUrl) {\n      var _this = this;\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var protocol = opts.protocol || '';\n      this.WebSocket = opts.WebSocket || (protocol === '' ? new WebSocket(connectionUrl) : new WebSocket(connectionUrl, protocol));\n      if (this.format === 'json') {\n        if (!('sendObj' in this.WebSocket)) {\n          this.WebSocket.sendObj = function (obj) {\n            return _this.WebSocket.send(JSON.stringify(obj));\n          };\n        }\n      }\n      return this.WebSocket;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      var _this2 = this;\n      if (this.reconnectionCount <= this.reconnectionAttempts) {\n        this.reconnectionCount++;\n        clearTimeout(this.reconnectTimeoutId);\n        this.reconnectTimeoutId = setTimeout(function () {\n          if (_this2.store) {\n            _this2.passToStore('SOCKET_RECONNECT', _this2.reconnectionCount);\n          }\n          _this2.connect(_this2.connectionUrl, _this2.opts);\n          _this2.onEvent();\n        }, this.reconnectionDelay);\n      } else if (this.store) {\n        this.passToStore('SOCKET_RECONNECT_ERROR', true);\n      }\n    }\n  }, {\n    key: \"onEvent\",\n    value: function onEvent() {\n      var _this3 = this;\n      ;\n      ['onmessage', 'onclose', 'onerror', 'onopen'].forEach(function (eventType) {\n        _this3.WebSocket[eventType] = function (event) {\n          Emitter.emit(eventType, event);\n          if (_this3.store) {\n            _this3.passToStore(\"SOCKET_\".concat(eventType), event);\n          }\n          if (_this3.reconnection && eventType === 'onopen') {\n            _this3.opts.$setInstance(event.currentTarget);\n            _this3.reconnectionCount = 0;\n          }\n          if (_this3.reconnection && eventType === 'onclose') {\n            _this3.reconnect();\n          }\n        };\n      });\n    }\n  }, {\n    key: \"passToStore\",\n    value: function passToStore(eventName, event) {\n      if (this.passToStoreHandler) {\n        this.passToStoreHandler(eventName, event, this.defaultPassToStore.bind(this));\n      } else {\n        this.defaultPassToStore(eventName, event);\n      }\n    }\n  }, {\n    key: \"defaultPassToStore\",\n    value: function defaultPassToStore(eventName, event) {\n      if (!eventName.startsWith('SOCKET_')) {\n        return;\n      }\n      var method = 'commit';\n      var target = eventName.toUpperCase();\n      var msg = event;\n      if (this.format === 'json' && event.data) {\n        msg = JSON.parse(event.data);\n        if (msg.mutation) {\n          target = [msg.namespace || '', msg.mutation].filter(function (e) {\n            return !!e;\n          }).join('/');\n        } else if (msg.action) {\n          method = 'dispatch';\n          target = [msg.namespace || '', msg.action].filter(function (e) {\n            return !!e;\n          }).join('/');\n        }\n      }\n      if (this.mutations) {\n        target = this.mutations[target] || target;\n      }\n      this.store[method](target, msg);\n    }\n  }]);\n}();\nexport { _default as default };",{"version":3,"names":["Emitter","_default","connectionUrl","opts","arguments","length","undefined","_classCallCheck","format","toLowerCase","startsWith","scheme","window","location","protocol","concat","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectTimeoutId","reconnectionCount","passToStoreHandler","connect","store","mutations","onEvent","_createClass","key","value","_this","WebSocket","sendObj","obj","send","JSON","stringify","reconnect","_this2","clearTimeout","setTimeout","passToStore","_this3","forEach","eventType","event","emit","$setInstance","currentTarget","eventName","defaultPassToStore","bind","method","target","toUpperCase","msg","data","parse","mutation","namespace","filter","e","join","action","default"],"sources":["E:/graduateproject/recruit/recruit-web/src/component/notify/observer.js"],"sourcesContent":["/* eslint-disable*/\nimport Emitter from './emitter'\n\nexport default class {\n  constructor(connectionUrl, opts = {}) {\n    this.format = opts.format && opts.format.toLowerCase()\n\n    if (connectionUrl.startsWith('//')) {\n      const scheme = window.location.protocol === 'https:' ? 'wss' : 'ws'\n      connectionUrl = `${scheme}:${connectionUrl}`\n    }\n\n    this.connectionUrl = connectionUrl\n    this.opts = opts\n\n    this.reconnection = this.opts.reconnection || false\n    this.reconnectionAttempts = this.opts.reconnectionAttempts || Infinity\n    this.reconnectionDelay = this.opts.reconnectionDelay || 1000\n    this.reconnectTimeoutId = 0\n    this.reconnectionCount = 0\n\n    this.passToStoreHandler = this.opts.passToStoreHandler || false\n\n    this.connect(connectionUrl, opts)\n\n    if (opts.store) {\n      this.store = opts.store\n    }\n    if (opts.mutations) {\n      this.mutations = opts.mutations\n    }\n    this.onEvent()\n  }\n\n  connect(connectionUrl, opts = {}) {\n    const protocol = opts.protocol || ''\n    this.WebSocket =\n      opts.WebSocket || (protocol === '' ? new WebSocket(connectionUrl) : new WebSocket(connectionUrl, protocol))\n    if (this.format === 'json') {\n      if (!('sendObj' in this.WebSocket)) {\n        this.WebSocket.sendObj = obj => this.WebSocket.send(JSON.stringify(obj))\n      }\n    }\n\n    return this.WebSocket\n  }\n\n  reconnect() {\n    if (this.reconnectionCount <= this.reconnectionAttempts) {\n      this.reconnectionCount++\n      clearTimeout(this.reconnectTimeoutId)\n\n      this.reconnectTimeoutId = setTimeout(() => {\n        if (this.store) {\n          this.passToStore('SOCKET_RECONNECT', this.reconnectionCount)\n        }\n\n        this.connect(this.connectionUrl, this.opts)\n        this.onEvent()\n      }, this.reconnectionDelay)\n    } else if (this.store) {\n      this.passToStore('SOCKET_RECONNECT_ERROR', true)\n    }\n  }\n\n  onEvent() {\n    ;['onmessage', 'onclose', 'onerror', 'onopen'].forEach(eventType => {\n      this.WebSocket[eventType] = event => {\n        Emitter.emit(eventType, event)\n\n        if (this.store) {\n          this.passToStore(`SOCKET_${eventType}`, event)\n        }\n\n        if (this.reconnection && eventType === 'onopen') {\n          this.opts.$setInstance(event.currentTarget)\n          this.reconnectionCount = 0\n        }\n\n        if (this.reconnection && eventType === 'onclose') {\n          this.reconnect()\n        }\n      }\n    })\n  }\n\n  passToStore(eventName, event) {\n    if (this.passToStoreHandler) {\n      this.passToStoreHandler(eventName, event, this.defaultPassToStore.bind(this))\n    } else {\n      this.defaultPassToStore(eventName, event)\n    }\n  }\n\n  defaultPassToStore(eventName, event) {\n    if (!eventName.startsWith('SOCKET_')) {\n      return\n    }\n    let method = 'commit'\n    let target = eventName.toUpperCase()\n    let msg = event\n    if (this.format === 'json' && event.data) {\n      msg = JSON.parse(event.data)\n      if (msg.mutation) {\n        target = [msg.namespace || '', msg.mutation].filter(e => !!e).join('/')\n      } else if (msg.action) {\n        method = 'dispatch'\n        target = [msg.namespace || '', msg.action].filter(e => !!e).join('/')\n      }\n    }\n    if (this.mutations) {\n      target = this.mutations[target] || target\n    }\n    this.store[method](target, msg)\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}