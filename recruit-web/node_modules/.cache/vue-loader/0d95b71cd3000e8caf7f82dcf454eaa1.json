{"remainingRequest":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\graduateproject\\recruit\\recruit-web\\src\\view\\examine\\company\\company-examine-wait.vue?vue&type=style&index=0&id=3308e612&lang=scss&scoped=true","dependencies":[{"path":"E:\\graduateproject\\recruit\\recruit-web\\src\\view\\examine\\company\\company-examine-wait.vue","mtime":1682848612000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\graduateproject\\recruit\\recruit-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n.container {\n  padding: 0 30px;\n\n  .header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\n\t.title {\n\t  height: 59px;\n\t  line-height: 59px;\n\t  color: $parent-title-color;\n\t  font-size: 16px;\n\t  font-weight: 500;\n\t}\n  }\n\n  .pagination {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin: 20px;\n  }\n}\n",{"version":3,"sources":["company-examine-wait.vue"],"names":[],"mappings":";AAmHA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"company-examine-wait.vue","sourceRoot":"src/view/examine/company","sourcesContent":["<template>\n\t<div class=\"container\" v-if=\"!showDetail\">\n\t\t<div class=\"header\">\n\t\t\t<div class=\"title\" style=\" text-align: left;\">未审核企业</div>\n\t\t</div>\n\t\t<el-table stripe v-loading=\"loading\" :data=\"tableData\">\n\t\t\t<el-table-column prop=\"name\" label=\"公司名称\" width=\"180\"></el-table-column>\n\t\t\t<el-table-column prop=\"logo\" label=\"公司logo\" width=\"220\">\n\t\t\t\t<template v-if=\"scope.row.logo\" slot-scope=\"scope\">\n\t\t\t\t\t<el-image :src=\"scope.row.logo\" :preview-src-list=\"imgSrcList\" style=\"max-height: 50px; max-width: 100px;\">\n\t\t\t\t\t</el-image>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"foreign_name\" label=\"公司外文名\" width=\"200\"></el-table-column>\n\t\t\t<el-table-column prop=\"city\" label=\"总部地点\" width=\"200\"></el-table-column>\n\t\t\t<el-table-column prop=\"mission\" label=\"公司使命\" width=\"200\" :show-overflow-tooltip=\"true\"></el-table-column>\n\t\t\t<el-table-column fixed=\"right\" label=\"操作\">\n\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t<el-button @click.prevent=\"handleDetail(scope.row)\" type=\"primary\" plain size=\"mini\">查看</el-button>\n\t\t\t\t<el-button @click.prevent=\"handlePass(scope.row)\" type=\"success\" plain size=\"mini\">通过</el-button>\n\t\t\t\t<el-button @click.prevent=\"handleFail(scope.row)\" type=\"warning\" plain size=\"mini\">不通过</el-button>\n\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t\t<div class=\"pagination\">\n\t\t\t<el-pagination @current-change=\"handleCurrentChange\" :background=\"true\" :page-size=\"pageCount\"\n\t\t\t:current-page=\"currentPage\" v-if=\"refreshPagination\" layout=\"prev, pager, next, jumper\" :total=\"totalNums\">\n\t\t\t</el-pagination>\n\t\t</div>\n\t</div>\n\t<!-- 详情页 -->\n\t<company-detail v-else @detailClose=\"detailClose\" :detailCompanyID=\"detailCompanyID\"></company-detail>\n</template>\n\n<script>\nimport { Company } from '@/model/company'\nimport CompanyDetail from '@/view/company/company-detail'\n\nexport default {\n  components: {\n\tCompanyDetail,\n  },\n  data() {\n\treturn {\n\t  showDetail: false,\n\t  tableData: [],\n\t  imgSrcList: [], // 用于大图预览\n\t  totalNums: 0,\n\t  currentPage: 1,\n\t  pageCount: 10,\n\t  refreshPagination: true,\n\t  detailCompanyID: 0,\n\t}\n  },\n  async created() {\n\tthis.loading = true\n\tthis.getByState()\n\tthis.loading = false\n  },\n  methods: {\n\tasync getByState() {\n\t  const page = this.currentPage - 1\n\t  const count = this.pageCount\n\t  // 未审核：state=0\n\t  const companys = await Company.getByState(0, page, count)\n\t  this.tableData = companys.items\n\t  this.totalNums = companys.total\n\t  this.initImgSrcList()\n\t},\n\t// 切换table页\n\tasync handleCurrentChange(val) {\n\t  this.imgSrcList = []\n\t  this.currentPage = val\n\t  this.loading = true\n\t  this.getByState()\n\t  this.loading = false\n\t},\n\tinitImgSrcList() {\n\t  this.tableData.forEach(item => {\n\t\tif (!item.logo) {\n\t\t  return\n\t\t}\n\t\tthis.imgSrcList.push(item.logo)\n\t  })\n\t},\n\thandleDetail(val) {\n\t  this.showDetail = true\n\t  this.detailCompanyID = val.id\n\t},\n\tasync handlePass(val) {\n\t  const res = await Company.updateState(val.id, 1)\n\t  if (res.code < window.MAX_SUCCESS_CODE) {\n\t\tthis.$message.success(`${res.message}`)\n\t\t// 刷新页面\n\t\tthis.getByState()\n\t  }\n\t},\n\tasync handleFail(val) {\n\t  const res = await Company.updateState(val.id, 2)\n\t  if (res.code < window.MAX_SUCCESS_CODE) {\n\t\tthis.$message.success(`${res.message}`)\n\t\t// 刷新页面\n\t\tthis.getByState()\n\t  }\n\t},\n\trowClick() { },\n\tdetailClose() {\n\t  this.showDetail = false\n\t  this.getByState()\n\t},\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding: 0 30px;\n\n  .header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\n\t.title {\n\t  height: 59px;\n\t  line-height: 59px;\n\t  color: $parent-title-color;\n\t  font-size: 16px;\n\t  font-weight: 500;\n\t}\n  }\n\n  .pagination {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin: 20px;\n  }\n}\n</style>\n\n"]}]}